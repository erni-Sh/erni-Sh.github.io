{"version":3,"sources":["assets/images/bg_day.jpg","assets/images/bg_night.jpg","assets/images/brand_names.png","assets/images/lighthouse_day.png","assets/images/lighthouse_night.png","assets/images/templates.png","assets/images/text-floor-1.png","assets/images/text-floor-2.png","assets/images/text-floor-3.png","assets/images/text-floor-4.png","assets/images/text-floor-5.png","assets/images/text-floor-6.png","components/clm/clm.jsx","index.js"],"names":["CLM","useState","step","setStep","isPlay","setIsPlay","sqncr","bgDay","bgDayOver","bgNight","bgNames","lighthouseDay","lighthouseNight","templates","textFloor1","textFloor2","textFloor3","textFloor4","textFloor5","textFloor6","flashing","renderStep","st","document","querySelectorAll","forEach","e","getAttribute","includes","classList","toggle","restart","l","remove","nextStep","prevStep","useEffect","body","onkeyup","code","console","clear","log","setTimeout","visPositions","length","visLHouse","querySelector","style","clipPath","className","maxWidth","src","alt","data-layer","onClick","rootElement","getElementById","App","ReactDOM","render"],"mappings":"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","file":"static/js/main.fdbd1ae7.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/bg_day.f3d28f86.jpg\";","export default __webpack_public_path__ + \"static/media/bg_night.a49c8703.jpg\";","export default __webpack_public_path__ + \"static/media/brand_names.0e45f941.png\";","export default __webpack_public_path__ + \"static/media/lighthouse_day.6d29269d.png\";","export default __webpack_public_path__ + \"static/media/lighthouse_night.5daa67a3.png\";","export default __webpack_public_path__ + \"static/media/templates.4d018bbe.png\";","export default __webpack_public_path__ + \"static/media/text-floor-1.865a0be4.png\";","export default __webpack_public_path__ + \"static/media/text-floor-2.c8715679.png\";","export default __webpack_public_path__ + \"static/media/text-floor-3.ec8bc38d.png\";","export default __webpack_public_path__ + \"static/media/text-floor-4.4de74c8b.png\";","export default __webpack_public_path__ + \"static/media/text-floor-5.a2167e33.png\";","export default __webpack_public_path__ + \"static/media/text-floor-6.d5b160bd.png\";","import React, {useEffect, useState} from 'react';\r\nimport './clm.scss';\r\nimport './diff-layers.scss';\r\nimport './button.scss';\r\n\r\nimport bgDay from '../../assets/images/bg_day.jpg';\r\nimport bgNight from '../../assets/images/bg_night.jpg';\r\nimport bgNames from '../../assets/images/brand_names.png';\r\nimport lighthouseDay from '../../assets/images/lighthouse_day.png';\r\nimport lighthouseNight from '../../assets/images/lighthouse_night.png';\r\nimport templates from '../../assets/images/templates.png';\r\nimport textFloor1 from '../../assets/images/text-floor-1.png';\r\nimport textFloor2 from '../../assets/images/text-floor-2.png';\r\nimport textFloor3 from '../../assets/images/text-floor-3.png';\r\nimport textFloor4 from '../../assets/images/text-floor-4.png';\r\nimport textFloor5 from '../../assets/images/text-floor-5.png';\r\nimport textFloor6 from '../../assets/images/text-floor-6.png';\r\n\r\nconst MAX_WIDTH = 1024; //1024;\r\nconst MAX_STEPS = 10;\r\n\r\nexport default function CLM() {\r\n\tconst [ step, setStep ] = useState(0);\r\n\tconst [ isPlay, setIsPlay ] = useState(false);\r\n\t// sequencer\r\n\tconst sqncr = {\r\n\t\tbgDay: [0],\r\n\t\tbgDayOver: [1],\r\n\t\tbgNight: [8],\r\n\t\tbgNames: [0, 1],\r\n\t\tlighthouseDay: [0],\r\n\t\tlighthouseNight: [8],\r\n\t\ttemplates: [0],\r\n\t\ttextFloor1: [2],\r\n\t\ttextFloor2: [3],\r\n\t\ttextFloor3: [4],\r\n\t\ttextFloor4: [5],\r\n\t\ttextFloor5: [6],\r\n\t\ttextFloor6: [7],\r\n\t\tflashing: [9],\r\n\t}\r\n\r\n\tconst renderStep = (st = 0) => {\r\n\t\tdocument.querySelectorAll('.clm__layer').forEach(e => {\r\n\t\t\tif(sqncr[e.getAttribute('data-layer')]?.includes(st)) {\r\n\t\t\t\te.classList.toggle(\"clm__layer_visible\");\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst restart = () => {\r\n\t\tconst layers = document.querySelectorAll('.clm__layer');\r\n\t\tlayers.forEach(l => l.classList.remove(\"clm__layer_visible\"));\r\n\t\tsetStep(0);\r\n\t\trenderStep(0);\r\n\t\tsetIsPlay(false);\r\n\t}\r\n\r\n\tconst nextStep = () => {\r\n\t\tif(step < MAX_STEPS) {\r\n\t\t\trenderStep(step + 1);\r\n\t\t\tsetStep(step + 1);\r\n\t\t} else {\r\n\t\t\tsetIsPlay(false);\r\n\t\t}\r\n\t}\r\n\r\n\tconst prevStep = () => {\r\n\t\tif(step > 0) {\r\n\t\t\trenderStep(step);\r\n\t\t\tsetStep(step - 1);\r\n\t\t}\r\n\t}\r\n\r\n\t// init render\r\n\tuseEffect(renderStep, []);\r\n\t// keys\r\n\tuseEffect(()=>{\r\n\t\tdocument.body.onkeyup = function(e){\r\n\t\t\tif(e.code === 'Space') setIsPlay(!isPlay);\r\n\t\t\tif(e.code === 'Enter') restart();\r\n\t\t\tif(e.code === 'ArrowLeft') prevStep();\r\n\t\t\tif(e.code === 'ArrowRight') nextStep();\r\n\t\t}\r\n\t})\r\n\r\n\t// timer\r\n\tuseEffect(()=>{\r\n\t\tconsole.clear();\r\n\t\tconsole.log(step);\r\n\t\t// if(step === 0) renderStep();\r\n\t\t// if(step >= MAX_STEPS) return false;\r\n\t\tif(!isPlay) return false;\r\n\r\n\t\tsetTimeout(()=>{\r\n\t\t\tnextStep();\r\n\t\t}, 2000)\r\n\t})\r\n\r\n\t// height lighthouse\r\n\tuseEffect(()=>{\r\n\t\tconst startMove = 2;\r\n\t\tconst visPositions = [81, 72, 61.5, 50, 38.3, 0];\r\n\r\n\t\tif(step > startMove + visPositions.length - 1) return false;\r\n\t\tconst visLHouse = (step < startMove) ? visPositions[0] : visPositions[step - startMove];\r\n\r\n\t\tdocument.querySelector('[data-layer=\"lighthouseDay\"]')\r\n\t\t\t.style.clipPath = `polygon( 0 ${visLHouse}%, 100% ${visLHouse}%, 100% 100%, 0 100% )`;\r\n\t}, [step])\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"clm__wrapper\">\r\n\t\t\t\t<div className=\"clm__inner\" style={{maxWidth: MAX_WIDTH}}>\r\n\t\t\t\t\t<img className=\"clm__layer\" src={bgDay} alt='' data-layer=\"bgDay\"/>\r\n\t\t\t\t\t<img className=\"clm__layer\" src={bgNight} alt='' data-layer=\"bgNight\"/>\r\n\t\t\t\t\t<img className=\"clm__layer\" src={templates} alt='' data-layer=\"templates\"/>\r\n\r\n\t\t\t\t\t<img className=\"clm__layer layer__bg-names\" src={bgNames} alt='' data-layer=\"bgNames\"/>\r\n\r\n\t\t\t\t\t<img className=\"clm__layer\" src={lighthouseDay} alt='' data-layer=\"lighthouseDay\"/>\r\n\t\t\t\t\t<img className=\"clm__layer\" src={lighthouseNight} alt='' data-layer=\"lighthouseNight\"/>\r\n\t\t\t\t\t<div className=\"clm__layer layer__flashing\" data-layer=\"flashing\"></div>\r\n\t\t\t\t\t<img className=\"clm__layer\" src={textFloor6} alt='' data-layer=\"textFloor6\"/>\r\n\t\t\t\t\t<img className=\"clm__layer\" src={textFloor5} alt='' data-layer=\"textFloor5\"/>\r\n\t\t\t\t\t<img className=\"clm__layer\" src={textFloor4} alt='' data-layer=\"textFloor4\"/>\r\n\t\t\t\t\t<img className=\"clm__layer\" src={textFloor3} alt='' data-layer=\"textFloor3\"/>\r\n\t\t\t\t\t<img className=\"clm__layer\" src={textFloor2} alt='' data-layer=\"textFloor2\"/>\r\n\t\t\t\t\t<img className=\"clm__layer\" src={textFloor1} alt='' data-layer=\"textFloor1\"/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"clm__button\">\r\n\t\t\t\t<button className=\"button-three\" onClick={prevStep}>prev</button>\r\n\t\t\t\t<button className=\" button-three\" onClick={()=>setIsPlay(!isPlay)}>{isPlay ? 'pause' : 'play'}</button>\r\n\t\t\t\t<button className=\"button-three\" onClick={nextStep}>next</button>\r\n\t\t\t\t<button className=\"button-three\" onClick={restart}>restart</button>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t)\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport CLM from './components/clm/clm';\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\n\r\nfunction App() {\r\n\treturn (\r\n\t\t<CLM />\r\n\t)\r\n}\r\n\r\nReactDOM.render(\r\n\t<App />,\r\n\trootElement\r\n);\r\n"],"sourceRoot":""}